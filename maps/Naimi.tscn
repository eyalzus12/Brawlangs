[gd_scene load_steps=35 format=2]

[ext_resource path="res://grass.jpg" type="Texture" id=1]
[ext_resource path="res://MapArt/TestMap/NoSides.png" type="Texture" id=2]
[ext_resource path="res://MapBase.cs" type="Script" id=3]
[ext_resource path="res://MapArt/TestMap/AllSides.png" type="Texture" id=4]
[ext_resource path="res://MapArt/TestMap/Connection.png" type="Texture" id=5]
[ext_resource path="res://icon.png" type="Texture" id=6]
[ext_resource path="res://MapArt/TestMap/OneSide.png" type="Texture" id=7]
[ext_resource path="res://MapArt/TestMap/Corner.png" type="Texture" id=8]
[ext_resource path="res://MapArt/TestMap/ThreeSides.png" type="Texture" id=9]
[ext_resource path="res://MapArt/TestMap/AllSidesSlope.png" type="Texture" id=10]
[ext_resource path="res://toki pona mage.png" type="Texture" id=11]
[ext_resource path="res://Characters/Josh/JoshAnimations/DirectionalAirDodge_1_0.png" type="Texture" id=12]
[ext_resource path="res://Scripts/Platforms/StaticPlatform2D.cs" type="Script" id=13]

[sub_resource type="ConvexPolygonShape2D" id=1]
points = PoolVector2Array( 64, 64, 0, 64, 0, 0, 64, 0 )

[sub_resource type="ConvexPolygonShape2D" id=2]
points = PoolVector2Array( 64, 64, 0, 64, 0, 0, 64, 0 )

[sub_resource type="ConvexPolygonShape2D" id=3]
points = PoolVector2Array( 64, 64, 0, 64, 0, 0, 64, 0 )

[sub_resource type="ConvexPolygonShape2D" id=4]
points = PoolVector2Array( 64, 64, 0, 64, 0, 0, 64, 0 )

[sub_resource type="ConvexPolygonShape2D" id=5]
points = PoolVector2Array( 32, 32, 0, 32, 0, 32, 32, 32 )

[sub_resource type="ConvexPolygonShape2D" id=6]
points = PoolVector2Array( 0, 0, 64, 0, 64, 64, 0, 64 )

[sub_resource type="ConvexPolygonShape2D" id=7]
points = PoolVector2Array( 64, 64, 0, 64, 0, 0, 64, 0 )

[sub_resource type="ConvexPolygonShape2D" id=8]
points = PoolVector2Array( 64, 64, 0, 64, 0, 0, 64, 0 )

[sub_resource type="ConvexPolygonShape2D" id=9]
points = PoolVector2Array( 64, 0, 64, 64, 0, 64 )

[sub_resource type="ConvexPolygonShape2D" id=16]
points = PoolVector2Array( 64, 32, 0, 32, 0, 0, 64, 0 )

[sub_resource type="ConvexPolygonShape2D" id=17]
points = PoolVector2Array( 0, 0, 64, 0, 64, 32, 0, 32 )

[sub_resource type="TileSet" id=10]
0/name = "icon.png 0"
0/texture = ExtResource( 6 )
0/tex_offset = Vector2( 0, 0 )
0/modulate = Color( 1, 1, 1, 1 )
0/region = Rect2( 0, 0, 64, 64 )
0/tile_mode = 0
0/occluder_offset = Vector2( 0, 0 )
0/navigation_offset = Vector2( 0, 0 )
0/shape_offset = Vector2( 0, 0 )
0/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
0/shape = SubResource( 1 )
0/shape_one_way = false
0/shape_one_way_margin = 1.0
0/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 1 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
0/z_index = 0
1/name = "AllSides.png 1"
1/texture = ExtResource( 4 )
1/tex_offset = Vector2( 0, 0 )
1/modulate = Color( 1, 1, 1, 1 )
1/region = Rect2( 0, 0, 64, 64 )
1/tile_mode = 0
1/occluder_offset = Vector2( 0, 0 )
1/navigation_offset = Vector2( 0, 0 )
1/shape_offset = Vector2( 0, 0 )
1/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
1/shape = SubResource( 2 )
1/shape_one_way = false
1/shape_one_way_margin = 1.0
1/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 2 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
1/z_index = 0
2/name = "Connection.png 2"
2/texture = ExtResource( 5 )
2/tex_offset = Vector2( 0, 0 )
2/modulate = Color( 1, 1, 1, 1 )
2/region = Rect2( 0, 0, 64, 64 )
2/tile_mode = 0
2/occluder_offset = Vector2( 0, 0 )
2/navigation_offset = Vector2( 0, 0 )
2/shape_offset = Vector2( 0, 0 )
2/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
2/shape = SubResource( 3 )
2/shape_one_way = false
2/shape_one_way_margin = 1.0
2/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 3 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
2/z_index = 0
3/name = "NoSides.png 3"
3/texture = ExtResource( 2 )
3/tex_offset = Vector2( 0, 0 )
3/modulate = Color( 1, 1, 1, 1 )
3/region = Rect2( 0, 0, 64, 64 )
3/tile_mode = 0
3/occluder_offset = Vector2( 0, 0 )
3/navigation_offset = Vector2( 0, 0 )
3/shape_offset = Vector2( 0, 0 )
3/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
3/shape = SubResource( 4 )
3/shape_one_way = false
3/shape_one_way_margin = 1.0
3/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 4 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
3/z_index = 0
4/name = "OneSide.png 4"
4/texture = ExtResource( 7 )
4/tex_offset = Vector2( 0, 0 )
4/modulate = Color( 1, 1, 1, 1 )
4/region = Rect2( 0, 0, 64, 64 )
4/tile_mode = 0
4/occluder_offset = Vector2( 0, 0 )
4/navigation_offset = Vector2( 0, 0 )
4/shape_offset = Vector2( 0, 0 )
4/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
4/shape = SubResource( 5 )
4/shape_one_way = false
4/shape_one_way_margin = 1.0
4/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 5 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 6 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
4/z_index = 0
5/name = "Corner.png 5"
5/texture = ExtResource( 8 )
5/tex_offset = Vector2( 0, 0 )
5/modulate = Color( 1, 1, 1, 1 )
5/region = Rect2( 0, 0, 64, 64 )
5/tile_mode = 0
5/occluder_offset = Vector2( 0, 0 )
5/navigation_offset = Vector2( 0, 0 )
5/shape_offset = Vector2( 0, 0 )
5/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
5/shape = SubResource( 7 )
5/shape_one_way = false
5/shape_one_way_margin = 1.0
5/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 7 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
5/z_index = 0
6/name = "ThreeSides.png 6"
6/texture = ExtResource( 9 )
6/tex_offset = Vector2( 0, 0 )
6/modulate = Color( 1, 1, 1, 1 )
6/region = Rect2( 0, 0, 64, 64 )
6/tile_mode = 0
6/occluder_offset = Vector2( 0, 0 )
6/navigation_offset = Vector2( 0, 0 )
6/shape_offset = Vector2( 0, 0 )
6/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
6/shape = SubResource( 8 )
6/shape_one_way = false
6/shape_one_way_margin = 1.0
6/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 8 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
6/z_index = 0
7/name = "AllSidesSlope.png 7"
7/texture = ExtResource( 10 )
7/tex_offset = Vector2( 0, 0 )
7/modulate = Color( 1, 1, 1, 1 )
7/region = Rect2( 0, 0, 64, 64 )
7/tile_mode = 0
7/occluder_offset = Vector2( 0, 0 )
7/navigation_offset = Vector2( 0, 0 )
7/shape_offset = Vector2( 0, 0 )
7/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
7/shape = SubResource( 9 )
7/shape_one_way = false
7/shape_one_way_margin = 1.0
7/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 9 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
7/z_index = 0
8/name = "grass.jpg 8"
8/texture = ExtResource( 1 )
8/tex_offset = Vector2( 0, 0 )
8/modulate = Color( 1, 1, 1, 1 )
8/region = Rect2( 0, 0, 64, 32 )
8/tile_mode = 0
8/occluder_offset = Vector2( 0, 0 )
8/navigation_offset = Vector2( 0, 0 )
8/shape_offset = Vector2( 0, 0 )
8/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
8/shape = SubResource( 16 )
8/shape_one_way = true
8/shape_one_way_margin = 1.0
8/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": true,
"one_way_margin": 1.0,
"shape": SubResource( 16 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 17 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
8/z_index = 0

[sub_resource type="RectangleShape2D" id=12]
extents = Vector2( 160, 124 )

[sub_resource type="Animation" id=13]
resource_name = "MovingPlatform1"
length = 25.0
loop = true
tracks/0/type = "value"
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 5, 10, 15, 25 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1 ),
"update": 0,
"values": [ Vector2( -1056, 68 ), Vector2( -1056, 68 ), Vector2( -1056, 2052 ), Vector2( -1056, 2052 ), Vector2( -1056, 68 ) ]
}

[sub_resource type="RectangleShape2D" id=14]
extents = Vector2( 96, 28 )

[sub_resource type="Animation" id=15]
resource_name = "MovingPlatform2"
length = 15.0
loop = true
tracks/0/type = "value"
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 2.6, 7.6, 10, 15 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1 ),
"update": 0,
"values": [ Vector2( 736, 1380 ), Vector2( 736, 1380 ), Vector2( 736, 2084 ), Vector2( 736, 2084 ), Vector2( 736, 1380 ) ]
}

[sub_resource type="RectangleShape2D" id=18]
extents = Vector2( 160, 12 )

[sub_resource type="RectangleShape2D" id=19]
extents = Vector2( 64, 12 )

[sub_resource type="RectangleShape2D" id=20]
extents = Vector2( 32, 12 )

[sub_resource type="RectangleShape2D" id=21]
extents = Vector2( 320, 12 )

[sub_resource type="RectangleShape2D" id=22]
extents = Vector2( 160, 8 )

[node name="Base" type="Node2D"]
position = Vector2( 512, 300 )
script = ExtResource( 3 )
BlastZones = Vector2( 2700, 2300 )
CameraLimits = Vector2( 2650, 2200 )
BackgroundTexture = ExtResource( 1 )

[node name="Ground" type="TileMap" parent="."]
position = Vector2( 0, 4 )
tile_set = SubResource( 10 )
collision_mask = 0
format = 1
tile_data = PoolIntArray( 65551, -1610612735, 0, 65552, -1610612735, 0, 65553, -1610612735, 0, 65554, -1610612735, 0, 65555, -1610612735, 0, 65556, -1610612735, 0, 65557, -1610612735, 0, 65558, -1610612735, 0, 65559, -1610612735, 0, 65560, -1610612735, 0, 131087, -1610612735, 0, 131096, -1610612735, 0, 196627, -1610612735, 0, 196628, -1610612735, 0, 327666, -1610612734, 0, 327667, -1610612734, 0, 327668, -1610612734, 0, 327669, -1610612734, 0, 327670, -1610612734, 0, 327671, -1610612734, 0, 327672, -1610612734, 0, 327673, -1073741822, 0, 327674, -1073741822, 0, 327675, -1073741822, 0, 327676, -1073741822, 0, 327677, -1073741822, 0, 327678, -1073741822, 0, 327679, -1073741822, 0, 262144, -1073741822, 0, 262145, -1073741822, 0, 262146, -1073741822, 0, 262147, -1073741822, 0, 262148, -1073741822, 0, 262149, -1073741822, 0, 262150, -1073741822, 0, 262151, -1610612734, 0, 262152, -1610612734, 0, 262153, -1610612735, 0, 262158, -1610612735, 0, 262159, -1610612734, 0, 262160, -1610612734, 0, 262161, -1610612734, 0, 262162, -1610612734, 0, 262163, 1, 0, 262164, 1, 0, 262165, 1, 0, 262166, 1, 0, 262167, 1, 0, 262168, 1, 0, 262169, 1, 0, 262170, 1, 0, 262171, -1610612734, 0, 262172, -1610612734, 0, 262173, -1610612734, 0, 262174, -1610612734, 0, 262175, -1610612734, 0, 262176, -1610612734, 0, 262177, 536870919, 0, 393208, 1, 0, 327689, -1610612735, 0, 327694, -1610612735, 0, 458744, 1, 0, 393225, -1610612735, 0, 393230, -1610612735, 0, 393244, 7, 0, 393245, 536870919, 0, 524280, 1, 0, 458761, -1610612735, 0, 458766, -1610612735, 0, 458779, 7, 0, 458780, 536870913, 0, 458781, 536870913, 0, 458782, 536870919, 0, 589816, 1, 0, 524297, -1610612735, 0, 524302, -1610612735, 0, 524314, 7, 0, 524315, 536870913, 0, 524316, 536870913, 0, 524317, 536870913, 0, 524318, 1, 0, 524319, 536870919, 0, 655352, 1, 0, 589838, 1, 0, 589841, -1610612735, 0, 589842, -1610612735, 0, 589843, -1610612735, 0, 589844, -1610612735, 0, 589845, -1610612735, 0, 589846, -1610612735, 0, 589847, -1610612735, 0, 589848, -1610612735, 0, 589849, -1610612735, 0, 589850, 1, 0, 589851, 1, 0, 589852, 1, 0, 589853, 1, 0, 589854, 1, 0, 589855, 1, 0, 720888, 1, 0, 655385, -1610612735, 0, 786428, -1610612735, 0, 786429, -1610612735, 0, 786430, -1610612735, 0, 786431, -1610612735, 0, 720896, -1610612735, 0, 720897, -1610612735, 0, 720898, -1610612735, 0, 720899, -1610612735, 0, 720900, -1610612735, 0, 720901, -1610612735, 0, 720902, -1610612735, 0, 720903, -1610612735, 0, 720904, -1610612735, 0, 720905, -1610612735, 0, 720906, -1610612735, 0, 720907, -1610612735, 0, 720908, -1610612735, 0, 720909, -1610612735, 0, 720910, -1610612735, 0, 720911, -1610612735, 0, 720912, -1610612735, 0, 720913, -1610612735, 0, 720914, -1610612735, 0, 720915, -1610612735, 0, 720916, -1610612735, 0, 720917, -1610612735, 0, 720918, -1610612735, 0, 720919, -1610612735, 0, 720921, -1610612735, 0, 786455, -1610612735, 0, 786457, -1610612735, 0, 917472, 1, 0, 917475, 1, 0, 851991, 1, 0, 851993, -1610612735, 0, 983008, 1, 0, 983011, 1, 0, 917527, -1610612735, 0, 917529, -1610612735, 0, 1048544, 1, 0, 1048547, 1, 0, 1048571, 1, 0, 1048572, 1, 0, 1048573, 1, 0, 1048574, 1, 0, 1048575, 1, 0, 983063, -1610612735, 0, 983065, -1610612735, 0, 1114080, 1, 0, 1114081, 1, 0, 1114082, 1, 0, 1114083, 1, 0, 1048579, 1, 0, 1048580, 1, 0, 1048581, 1, 0, 1048582, 1, 0, 1048583, 1, 0, 1048584, 1, 0, 1048590, 1, 0, 1048591, 1, 0, 1048592, 1, 0, 1048593, 1, 0, 1048594, 1, 0, 1048595, 1, 0, 1048596, 1, 0, 1048599, -1610612735, 0, 1048601, -1610612735, 0, 1179616, 1, 0, 1179619, 1, 0, 1114135, -1610612735, 0, 1114137, -1610612735, 0, 1245152, 1, 0, 1245155, 1, 0, 1179659, 1, 0, 1179671, -1610612735, 0, 1179673, -1610612735, 0, 1310688, 1, 0, 1310691, 1, 0, 1310713, 1, 0, 1310714, 1, 0, 1310717, 1, 0, 1310718, 1, 0, 1245209, -1610612735, 0, 1376249, 1, 0, 1376250, 1, 0, 1376253, 1, 0, 1376254, 1, 0, 1376274, -1610612735, 0, 1376275, -1610612735, 0, 1376276, -1610612735, 0, 1376277, -1610612735, 0, 1376278, -1610612735, 0, 1376279, -1610612735, 0, 1376280, -1610612735, 0, 1507321, 1, 0, 1507322, 1, 0, 1507325, 1, 0, 1507326, 1, 0, 1572857, 1, 0, 1572858, 1, 0, 1572861, 1, 0, 1572862, 1, 0, 1703956, 1, 0, 1703957, 1, 0, 1703958, 1, 0, 1703959, 1, 0, 1769492, 1, 0, 1769493, 1, 0, 1769494, 1, 0, 1769495, 1, 0, 2031617, 1, 0, 2031618, 1, 0, 2031619, 1, 0, 2031620, 1, 0, 2031621, 1, 0, 2031622, 1, 0, 2031636, 1, 0, 2031637, 1, 0, 2031638, 1, 0, 2162704, 1, 0, 2162705, 1, 0, 2162706, 1, 0, 2162707, 1, 0, 2162708, 1, 0, 2162709, 1, 0, 2162710, 1, 0, 2228226, 1, 0, 2228227, 1, 0, 2228228, 1, 0, 2228229, 1, 0, 2228230, 1, 0, 2228231, 1, 0, 2228232, 1, 0, 2228233, 1, 0 )

[node name="MovingPlatform1" type="KinematicBody2D" parent="."]
position = Vector2( -1056, 68 )
collision_mask = 0
motion/sync_to_physics = true

[node name="MovingPlatform1Shape" type="CollisionShape2D" parent="MovingPlatform1"]
position = Vector2( 0, -4 )
shape = SubResource( 12 )

[node name="MovingPlatform1Sprite" type="Sprite" parent="MovingPlatform1"]
position = Vector2( 1.14441e-05, -3.99999 )
scale = Vector2( 0.788177, 0.610837 )
texture = ExtResource( 11 )

[node name="MovingPlatform1Animator" type="AnimationPlayer" parent="MovingPlatform1"]
autoplay = "MovingPlatform1"
anims/MovingPlatform1 = SubResource( 13 )

[node name="MovingPlatform2" type="KinematicBody2D" parent="."]
position = Vector2( 736, 1380 )
collision_mask = 0

[node name="MovingPlatform2Shape" type="CollisionShape2D" parent="MovingPlatform2"]
position = Vector2( 0, -4 )
shape = SubResource( 14 )

[node name="MovingPlatform2Sprite" type="Sprite" parent="MovingPlatform2"]
position = Vector2( -0.999908, -4.50002 )
scale = Vector2( 3.88, 1.14 )
texture = ExtResource( 12 )
region_enabled = true
region_rect = Rect2( 40, 40, 50, 50 )

[node name="MovingPlatform2Animator" type="AnimationPlayer" parent="MovingPlatform2"]
autoplay = "MovingPlatform2"
anims/MovingPlatform2 = SubResource( 15 )

[node name="Soft" type="StaticBody2D" parent="."]
position = Vector2( 288, 144 )
collision_layer = 2
collision_mask = 0
script = ExtResource( 13 )
Clingable = false
FallThrough = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="Soft"]
shape = SubResource( 18 )
one_way_collision = true

[node name="Sprite" type="Sprite" parent="Soft"]
scale = Vector2( 0.629921, 0.0712166 )
texture = ExtResource( 1 )

[node name="Soft 2" type="StaticBody2D" parent="."]
position = Vector2( 1024, 592 )
collision_layer = 2
collision_mask = 0
script = ExtResource( 13 )
Clingable = false
FallThrough = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="Soft 2"]
shape = SubResource( 19 )
one_way_collision = true

[node name="Sprite" type="Sprite" parent="Soft 2"]
scale = Vector2( 0.251968, 0.0741839 )
texture = ExtResource( 1 )

[node name="Soft 3" type="StaticBody2D" parent="."]
position = Vector2( 1568, 720 )
collision_layer = 2
collision_mask = 0
script = ExtResource( 13 )
Clingable = false
FallThrough = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="Soft 3"]
shape = SubResource( 20 )
one_way_collision = true

[node name="Sprite" type="Sprite" parent="Soft 3"]
scale = Vector2( 0.125984, 0.0712167 )
texture = ExtResource( 1 )

[node name="Soft 4" type="StaticBody2D" parent="."]
position = Vector2( 128, 592 )
collision_layer = 2
collision_mask = 0
script = ExtResource( 13 )
Clingable = false
FallThrough = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="Soft 4"]
shape = SubResource( 21 )
one_way_collision = true

[node name="Sprite" type="Sprite" parent="Soft 4"]
position = Vector2( 1.52588e-05, 0 )
scale = Vector2( 1.25984, 0.0712167 )
texture = ExtResource( 1 )

[node name="Soft 5" type="StaticBody2D" parent="."]
position = Vector2( 736, 1036 )
collision_layer = 2
collision_mask = 0
script = ExtResource( 13 )
Clingable = false
FallThrough = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="Soft 5"]
shape = SubResource( 22 )
one_way_collision = true

[node name="Sprite" type="Sprite" parent="Soft 5"]
scale = Vector2( 0.629906, 0.047478 )
texture = ExtResource( 1 )
